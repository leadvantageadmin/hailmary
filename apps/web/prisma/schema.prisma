// Datasource
 datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
 }

// Generator
generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

model Customer {
  id              String   @id @default(cuid())
  salutation      String?
  firstName       String?
  lastName        String?
  email           String?
  company         String?
  address         String?
  city            String?
  state           String?
  country         String?
  zipCode         String?
  phone           String?
  mobilePhone     String?
  industry        String?
  jobTitleLevel   String?
  jobTitle        String?
  department      String?
      employeeSize    Int?
  jobTitleLink    String?
  employeeSizeLink String?
  // Legacy fields for backward compatibility
  name            String?
  sector          String?
  size            Int?
  latitude        Float?
  longitude       Float?
  externalSource  String
  externalId      String
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([externalSource, externalId])
  @@index([industry])
  @@index([company])
  @@index([country])
  @@index([employeeSize])
  @@index([jobTitle])
  @@index([department])
}

enum UserRole {
  ADMIN
  USER
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String   // Hashed password
  firstName String
  lastName  String
  role      UserRole @default(USER)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([email])
  @@index([role])
}
